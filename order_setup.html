<polymer-element name="olbapro-setup" attributes="pricelist customers items orders language config">
<template>
	<style>
		
	</style>

  <div >
    <olbapro-strings language="{{language}}" strings="{{strings}}"> 
     <string id="AddNew" es="Nueva" en="Add New"></string>   
      
      <string id="ClearData" es="Limpiar Datos" en="Clear Data"></string>   
      <string id="PopulateData" es="Rellenar Datos" en="Populate Data"></string>     
      <string id="ChooseYourDatabase" es="Escoja base de datos" en="Choose your database"></string>            
       <string id="ChooseYourLanguage" es="Escoja un idioma" en="Choose your language"></string>   
     
    </olbapro-strings>

    <span>{{strings.ChooseYourLanguage}}</span><br>
    <paper-radio-group selected="{{language}}"  >
         <paper-radio-button label="EspaÃ±ol" value="es" name="es" ></paper-radio-button><br>   
         <paper-radio-button label="English" value="en" name="en" ></paper-radio-button>  
    </paper-radio-group>
    <br>
    <span>{{strings.ChooseYourDatabase}}</span><br>
    <paper-radio-group selected="{{config.databaseName}}" on-core-select="{{changeDatabase}}" >
     <template repeat="{{ value, j in config.databases }}">
      <paper-radio-button label="{{value.name}}" value="{{value.name}}" name="{{value.name}}" ></paper-radio-button><br>
     </template>      
    </paper-radio-group>
    <br>

    <paper-button id="cmdNew" label="{{strings.AddNew}}" raisedButton on-click="{{addNew}}"></paper-button>
    <br>
    <paper-button id="cmdClear" label="{{strings.ClearData}}" raisedButton on-click="{{clearData}}"></paper-button>
    <br>
    <paper-button id="cmdPopulate" label="{{strings.PopulateData}}" raisedButton on-click="{{populateData}}"></paper-button>

  </div>
 
</template>
<script>
 Polymer('olbapro-setup', {

    ready: function () {         
   		
       
    },
    changeDatabase:function(){
      for (var i=0;i<this.config.databases.length;i++){
        if (this.config.databases[i].name==this.config.databaseName){
           this.config.databaseUrl=this.config.databases[i].url;
        }
      }
       
    },
    clearData:function(){
      this.pricelist=[];
      this.customers=[];
      this.items=[];
      this.orders=[];
    },
    populateData:function(){
      this.pricelist=[
        {"code":"L01","name":"Normal Customer"},
        {"code":"L02","name":"VIP Customer"},
        ]
      this.items=[
        {"itemcode":"I01","itemname":"My first item","vat":21,"inactive":false,"prices":[
            {"code":"L01","name":"Normal Customer","price":17},
            {"code":"L02","name":"VIP Customer","price":16},
            ]},
        {"itemcode":"I02","itemname":"My second item","vat":21,"inactive":false,"prices":[
            {"code":"L01","name":"Normal Customer","price":8},
            {"code":"L02","name":"VIP Customer","price":7},
            ]}            
        ];
      this.customers=[
        {"cardcode":"C01","cardname":"Mi primer cliente","pricelist":"L01"},
        {"cardcode":"C02","cardname":"Mi segundo cliente","pricelist":"L02"}        
      ];
    }
 });
 </script>
</polymer-element>